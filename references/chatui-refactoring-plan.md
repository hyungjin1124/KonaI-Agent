# ChatUI ë¦¬íŒ©í† ë§ ê³„íš: Claude Cowork ìŠ¤íƒ€ì¼ ì ìš©

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 
í˜„ì¬ AgentChatViewì˜ 2-Panel ë ˆì´ì•„ì›ƒì„ Claude Cowork ìŠ¤íƒ€ì¼ì˜ 3-Panel ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. ê¸°ì¡´ PPT ìƒì„± ì‹œë‚˜ë¦¬ì˜¤ ë¡œì§ì€ 100% ìœ ì§€í•˜ë©´ì„œ UI êµ¬ì¡°ë§Œ ë³€ê²½í•©ë‹ˆë‹¤.

### ì°¸ì¡° UI êµ¬ì¡° (Claude Cowork)

**Artifacts ë‹«í˜ ìƒíƒœ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Header                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                â”‚  â”‚ Progress                 â”‚  â”‚
â”‚                                â”‚  â”‚ (Planned tasks + status) â”‚  â”‚
â”‚      Main Conversation         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      (Chat Panel)              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                â”‚  â”‚ Artifacts                â”‚  â”‚
â”‚                                â”‚  â”‚ (What Claude creates)    â”‚  â”‚
â”‚                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                â”‚  â”‚ Context                  â”‚  â”‚
â”‚                                â”‚  â”‚ (Files + connectors)     â”‚  â”‚
â”‚                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´                                â”¤
â”‚        Input Area              |                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Artifacts ì—´ë¦¼ ìƒíƒœ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Header                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                      â”‚                          â”‚  â”‚ Progress          â”‚  â”‚
â”‚  Main Conversation   â”‚    Artifact Preview      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  (Chat Panel)        â”‚    (PPT/Dashboard/etc)   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                      â”‚                          â”‚  â”‚ Artifacts         â”‚  â”‚
â”‚                      â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                      â”‚                          â”‚  â”‚ Context           â”‚  â”‚
â”‚                      â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´                          |                         |
â”‚       Input Area     |                          |                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ë³€ê²½ ë²”ìœ„

### ë³€ê²½ O (UI êµ¬ì¡°)
- ë ˆì´ì•„ì›ƒ êµ¬ì¡°: 2-Panel â†’ 3-Panel
- ìš°ì¸¡ íŒ¨ë„: ë‹¨ì¼ ì»¨í…ì¸  â†’ Progress/Artifacts/Context ì„¹ì…˜ ë¶„ë¦¬
- ì¤‘ì•™ íŒ¨ë„: Artifact Preview íŒ¨ë„ ì‹ ê·œ ì¶”ê°€
- íŒ¨ë„ ë„ˆë¹„ ì¡°ì ˆ ë¡œì§

### ë³€ê²½ X (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
- PPT ìƒì„± ì‹œë‚˜ë¦¬ì˜¤ íë¦„ (`pptScenario.ts`)
- PPTScenarioRenderer ë Œë”ë§ ë¡œì§
- usePPTScenario í›… ë¡œì§
- ë„êµ¬ í˜¸ì¶œ(Tool Call) ìœ„ì ¯ë“¤
- HITL(Human-in-the-Loop) ì¸í„°ë™ì…˜
- ì±„íŒ… íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- ìŠ¬ë¼ì´ë“œ ìƒì„± ìƒíƒœ ê´€ë¦¬

---

## ğŸ“ íŒŒì¼ ë³€ê²½ ëª©ë¡

### ì‹ ê·œ ìƒì„± íŒŒì¼

| íŒŒì¼ ê²½ë¡œ | ì„¤ëª… |
|-----------|------|
| `src/components/features/agent-chat/components/RightSidebar/RightSidebar.tsx` | ìš°ì¸¡ ì‚¬ì´ë“œë°” ì»¨í…Œì´ë„ˆ (Progress + Artifacts + Context) |
| `src/components/features/agent-chat/components/RightSidebar/ProgressSection.tsx` | Progress ì„¹ì…˜ ì»´í¬ë„ŒíŠ¸ |
| `src/components/features/agent-chat/components/RightSidebar/ArtifactsSection.tsx` | Artifacts ëª©ë¡ ì„¹ì…˜ ì»´í¬ë„ŒíŠ¸ |
| `src/components/features/agent-chat/components/RightSidebar/ContextSection.tsx` | Context ì„¹ì…˜ ì»´í¬ë„ŒíŠ¸ |
| `src/components/features/agent-chat/components/RightSidebar/index.ts` | ë‚´ë³´ë‚´ê¸° |
| `src/components/features/agent-chat/components/ArtifactPreviewPanel/ArtifactPreviewPanel.tsx` | ì¤‘ì•™ Artifact ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ |
| `src/components/features/agent-chat/components/ArtifactPreviewPanel/index.ts` | ë‚´ë³´ë‚´ê¸° |
| `src/components/features/agent-chat/layouts/CoworkLayout.tsx` | ìƒˆë¡œìš´ 3-Panel ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ |

### ìˆ˜ì • íŒŒì¼

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ë‚´ìš© |
|-----------|-----------|
| `src/components/features/agent-chat/AgentChatView.tsx` | ë ˆì´ì•„ì›ƒ êµ¬ì¡° ë³€ê²½, ìƒíƒœ ê´€ë¦¬ ì¡°ì • |
| `src/components/features/agent-chat/types.ts` | ìƒˆë¡œìš´ íƒ€ì… ì •ì˜ ì¶”ê°€ |
| `src/components/features/agent-chat/components/ArtifactsPanel/ArtifactsPanel.tsx` | ArtifactsSection í˜¸í™˜ ë˜ëŠ” í†µí•© |

### ì‚­ì œ ë˜ëŠ” ë¹„í™œì„±í™” (ì„ íƒ)

| íŒŒì¼ ê²½ë¡œ | ì‚¬ìœ  |
|-----------|------|
| - | ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ëŠ” ìƒˆ êµ¬ì¡°ì—ì„œ ì¬ì‚¬ìš© ë˜ëŠ” ê°ì‹¸ê¸° |

---

## ğŸ—ï¸ ìƒì„¸ êµ¬í˜„ ê³„íš

### Phase 1: íƒ€ì… ì •ì˜ ë° ìƒíƒœ ê´€ë¦¬

#### 1.1 íƒ€ì… ì •ì˜ ì¶”ê°€ (`types.ts`)

```typescript
// ì§„í–‰ ìƒíƒœ íƒ€ì…
export interface ProgressTask {
  id: string;
  label: string;
  status: 'pending' | 'running' | 'completed' | 'error';
  progress?: number; // 0-100
}

// Context ì•„ì´í…œ íƒ€ì…
export interface ContextItem {
  id: string;
  type: 'file' | 'connector' | 'data-source';
  name: string;
  icon?: string;
  status?: 'connected' | 'disconnected' | 'loading';
}

// ìš°ì¸¡ ì‚¬ì´ë“œë°” ìƒíƒœ
export interface RightSidebarState {
  isCollapsed: boolean;
  expandedSections: ('progress' | 'artifacts' | 'context')[];
}

// Artifact Preview ìƒíƒœ
export interface ArtifactPreviewState {
  isOpen: boolean;
  selectedArtifact: Artifact | null;
  previewType: 'ppt' | 'dashboard' | 'chart' | null;
}

// ë ˆì´ì•„ì›ƒ ëª¨ë“œ
export type LayoutMode = 'two-panel' | 'three-panel';
```

#### 1.2 AgentChatView ìƒíƒœ ì¶”ê°€

```typescript
// ê¸°ì¡´ ìƒíƒœ ìœ ì§€ + ì‹ ê·œ ìƒíƒœ ì¶”ê°€
const [layoutMode, setLayoutMode] = useState<LayoutMode>('two-panel');
const [artifactPreview, setArtifactPreview] = useState<ArtifactPreviewState>({
  isOpen: false,
  selectedArtifact: null,
  previewType: null,
});
const [rightSidebarState, setRightSidebarState] = useState<RightSidebarState>({
  isCollapsed: false,
  expandedSections: ['progress', 'artifacts'],
});
const [progressTasks, setProgressTasks] = useState<ProgressTask[]>([]);
const [contextItems, setContextItems] = useState<ContextItem[]>([]);
```

---

### Phase 2: ìš°ì¸¡ ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

#### 2.1 RightSidebar ì»¨í…Œì´ë„ˆ

```typescript
// RightSidebar.tsx
interface RightSidebarProps {
  isCollapsed: boolean;
  expandedSections: ('progress' | 'artifacts' | 'context')[];
  onToggleSection: (section: 'progress' | 'artifacts' | 'context') => void;
  onToggleCollapse: () => void;
  // Progress Props
  tasks: ProgressTask[];
  // Artifacts Props
  artifacts: Artifact[];
  selectedArtifactId?: string;
  onArtifactSelect: (artifact: Artifact) => void;
  onArtifactDownload: (artifact: Artifact) => void;
  // Context Props
  contextItems: ContextItem[];
}
```

**ë ˆì´ì•„ì›ƒ êµ¬ì¡°:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Progress Section]              â”‚
â”‚ â”œâ”€ Task 1: âœ“ Completed         â”‚
â”‚ â”œâ”€ Task 2: â— In Progress       â”‚
â”‚ â””â”€ Task 3: â—‹ Pending           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Artifacts Section]             â”‚
â”‚ â”œâ”€ ğŸ“„ Report.pptx              â”‚
â”‚ â”œâ”€ ğŸ“Š Sales Chart              â”‚
â”‚ â””â”€ ğŸ“ˆ Analysis.xlsx            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Context Section]               â”‚
â”‚ â”œâ”€ ğŸ”— ERP System (Connected)   â”‚
â”‚ â”œâ”€ ğŸ“ Q4_Data.xlsx             â”‚
â”‚ â””â”€ ğŸŒ Market Research API      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2 ProgressSection ì»´í¬ë„ŒíŠ¸

```typescript
// ProgressSection.tsx
interface ProgressSectionProps {
  tasks: ProgressTask[];
  isExpanded: boolean;
  onToggle: () => void;
}

// ê¸°ëŠ¥:
// - ì‹œë‚˜ë¦¬ì˜¤ ë‹¨ê³„ë¥¼ Progress íƒœìŠ¤í¬ë¡œ ë§¤í•‘
// - ì™„ë£Œ/ì§„í–‰ì¤‘/ëŒ€ê¸° ìƒíƒœ ì‹œê°í™”
// - ì ‘ê¸°/í¼ì¹˜ê¸° ì§€ì›
```

**PPT ì‹œë‚˜ë¦¬ì˜¤ íƒœìŠ¤í¬ ë§¤í•‘:**
```typescript
const PPT_SCENARIO_TASKS: ProgressTask[] = [
  { id: 'planning', label: 'ì‘ì—… ê³„íš ìˆ˜ë¦½', status: 'pending' },
  { id: 'data_source', label: 'ë°ì´í„° ì†ŒìŠ¤ ì„ íƒ', status: 'pending' },
  { id: 'data_query', label: 'ë°ì´í„° ì¡°íšŒ', status: 'pending' },
  { id: 'data_validation', label: 'ë°ì´í„° ê²€ì¦', status: 'pending' },
  { id: 'ppt_setup', label: 'PPT ì„¤ì •', status: 'pending' },
  { id: 'slide_generation', label: 'ìŠ¬ë¼ì´ë“œ ìƒì„±', status: 'pending' },
  { id: 'completion', label: 'ì™„ë£Œ', status: 'pending' },
];
```

#### 2.3 ArtifactsSection ì»´í¬ë„ŒíŠ¸

```typescript
// ArtifactsSection.tsx
interface ArtifactsSectionProps {
  artifacts: Artifact[];
  selectedArtifactId?: string;
  isExpanded: boolean;
  onToggle: () => void;
  onSelect: (artifact: Artifact) => void;
  onDownload: (artifact: Artifact) => void;
}

// ê¸°ëŠ¥:
// - ìƒì„±ëœ Artifact ëª©ë¡ í‘œì‹œ
// - í´ë¦­ ì‹œ ì¤‘ì•™ íŒ¨ë„ì—ì„œ ë¯¸ë¦¬ë³´ê¸°
// - ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
// - ì„ íƒ ìƒíƒœ í•˜ì´ë¼ì´íŠ¸
```

#### 2.4 ContextSection ì»´í¬ë„ŒíŠ¸

```typescript
// ContextSection.tsx
interface ContextSectionProps {
  items: ContextItem[];
  isExpanded: boolean;
  onToggle: () => void;
}

// ê¸°ëŠ¥:
// - ì—°ê²°ëœ ë°ì´í„° ì†ŒìŠ¤ í‘œì‹œ (ERP, MES ë“±)
// - ì°¸ì¡° íŒŒì¼ ëª©ë¡
// - ì—°ê²° ìƒíƒœ í‘œì‹œ
```

---

### Phase 3: Artifact Preview íŒ¨ë„ êµ¬í˜„ 

#### 3.1 ArtifactPreviewPanel ì»´í¬ë„ŒíŠ¸

```typescript
// ArtifactPreviewPanel.tsx
interface ArtifactPreviewPanelProps {
  isOpen: boolean;
  artifact: Artifact | null;
  previewType: 'ppt' | 'dashboard' | 'chart' | null;
  onClose: () => void;
  // PPT Preview Props (ê¸°ì¡´ PPTGenPanel ì¬ì‚¬ìš©)
  pptConfig?: PPTConfig;
  pptStatus?: PPTStatus;
  slides?: SlideItem[];
  // Dashboard Preview Props
  dashboardType?: DashboardType;
  dashboardScenario?: string;
}

// ê¸°ëŠ¥:
// - artifact.typeì— ë”°ë¼ ì ì ˆí•œ ë¯¸ë¦¬ë³´ê¸° ë Œë”ë§
// - PPT: ê¸°ì¡´ PPTGenPanel ì¬ì‚¬ìš©
// - Chart: ê¸°ì¡´ Dashboard ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©
// - ë‹«ê¸° ë²„íŠ¼
// - ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤
```

**ë Œë”ë§ ë¡œì§:**
```typescript
const renderPreview = () => {
  if (!artifact) return null;
  
  switch (artifact.type) {
    case 'ppt':
      return (
        <PPTGenPanel
          status={pptStatus}
          config={pptConfig}
          slides={slides}
          // ... ê¸°ì¡´ props
        />
      );
    case 'chart':
      return (
        <DashboardPreview
          type={dashboardType}
          scenario={dashboardScenario}
        />
      );
    default:
      return <GenericPreview artifact={artifact} />;
  }
};
```

---

### Phase 4: CoworkLayout í†µí•© ë ˆì´ì•„ì›ƒ

#### 4.1 CoworkLayout ì»´í¬ë„ŒíŠ¸

```typescript
// CoworkLayout.tsx
interface CoworkLayoutProps {
  // ì¢Œì¸¡ íŒ¨ë„ (ëŒ€í™”)
  leftPanel: React.ReactNode;
  // ì¤‘ì•™ íŒ¨ë„ (Artifact Preview - ì¡°ê±´ë¶€)
  centerPanel?: React.ReactNode;
  isCenterPanelOpen: boolean;
  // ìš°ì¸¡ íŒ¨ë„ (ì‚¬ì´ë“œë°”)
  rightPanel: React.ReactNode;
  isRightPanelCollapsed: boolean;
  // í•˜ë‹¨ (ì…ë ¥ ì˜ì—­)
  inputArea: React.ReactNode;
  // ë¦¬ì‚¬ì´ì¦ˆ
  onCenterResize?: (width: number) => void;
  onRightResize?: (width: number) => void;
}
```

**ë„ˆë¹„ ê³„ì‚° ë¡œì§:**
```typescript
const getLayoutWidths = () => {
  const RIGHT_PANEL_WIDTH = 320; // ê³ ì • ë˜ëŠ” ìµœì†Œ ë„ˆë¹„
  const RIGHT_PANEL_COLLAPSED_WIDTH = 0;
  
  if (isRightPanelCollapsed) {
    // ìš°ì¸¡ ì ‘í˜: ì¢Œì¸¡ 100% (ë˜ëŠ” ì¢Œì¸¡ + ì¤‘ì•™)
    if (isCenterPanelOpen) {
      return { left: '50%', center: '50%', right: '0%' };
    }
    return { left: '100%', center: '0%', right: '0%' };
  }
  
  if (isCenterPanelOpen) {
    // 3-Panel ëª¨ë“œ
    return {
      left: '35%',
      center: 'calc(65% - 320px)',
      right: '320px'
    };
  }
  
  // 2-Panel ëª¨ë“œ (ì¤‘ì•™ ë‹«í˜)
  return {
    left: 'calc(100% - 320px)',
    center: '0%',
    right: '320px'
  };
};
```

---

### Phase 5: AgentChatView í†µí•©

#### 5.1 ë ˆì´ì•„ì›ƒ ì ìš©

```typescript
// AgentChatView.tsx ë³€ê²½

// Before: ê¸°ì¡´ 2-Panel ì§ì ‘ ë Œë”ë§
// After: CoworkLayout ì‚¬ìš©

return (
  <CoworkLayout
    leftPanel={
      <ChatPanel
        chatHistory={chatHistory}
        onSend={handleSend}
        // ... ê¸°ì¡´ props
      />
    }
    centerPanel={
      artifactPreview.isOpen && (
        <ArtifactPreviewPanel
          artifact={artifactPreview.selectedArtifact}
          previewType={artifactPreview.previewType}
          onClose={() => setArtifactPreview({ isOpen: false, selectedArtifact: null, previewType: null })}
          // PPT props
          pptConfig={pptConfig}
          pptStatus={pptStatus}
          slides={pptSlides}
          // ...
        />
      )
    }
    isCenterPanelOpen={artifactPreview.isOpen}
    rightPanel={
      <RightSidebar
        isCollapsed={rightSidebarState.isCollapsed}
        expandedSections={rightSidebarState.expandedSections}
        onToggleSection={handleToggleSection}
        onToggleCollapse={() => setRightSidebarState(prev => ({ ...prev, isCollapsed: !prev.isCollapsed }))}
        tasks={progressTasks}
        artifacts={artifacts}
        selectedArtifactId={artifactPreview.selectedArtifact?.id}
        onArtifactSelect={handleArtifactSelect}
        onArtifactDownload={handleDownloadArtifact}
        contextItems={contextItems}
      />
    }
    isRightPanelCollapsed={rightSidebarState.isCollapsed}
    inputArea={<InputArea ... />}
  />
);
```

#### 5.2 ì‹œë‚˜ë¦¬ì˜¤ Progress ì—°ë™

```typescript
// usePPTScenario í›…ì˜ ìƒíƒœë¥¼ Progress íƒœìŠ¤í¬ë¡œ ë³€í™˜
useEffect(() => {
  const tasks = mapScenarioToProgressTasks(
    completedStepIds,
    currentStepId,
    PPT_SCENARIO_STEPS
  );
  setProgressTasks(tasks);
}, [completedStepIds, currentStepId]);

// ë§¤í•‘ í•¨ìˆ˜
const mapScenarioToProgressTasks = (
  completedStepIds: string[],
  currentStepId: string | null,
  steps: ScenarioStep[]
): ProgressTask[] => {
  // ì‹œë‚˜ë¦¬ì˜¤ ë‹¨ê³„ë¥¼ ê·¸ë£¹í™”í•˜ì—¬ Progress íƒœìŠ¤í¬ë¡œ ë³€í™˜
  const taskGroups = [
    { id: 'planning', label: 'ì‘ì—… ê³„íš ìˆ˜ë¦½', stepIds: ['agent_greeting', 'tool_planning'] },
    { id: 'data_source', label: 'ë°ì´í„° ì†ŒìŠ¤ ì„ íƒ', stepIds: ['tool_data_source', 'agent_data_source_confirm'] },
    { id: 'data_query', label: 'ë°ì´í„° ì¡°íšŒ', stepIds: ['tool_erp_connect', 'tool_parallel_query', 'tool_data_query_1', 'tool_data_query_2', 'tool_data_query_3', 'tool_data_query_4'] },
    { id: 'data_validation', label: 'ë°ì´í„° ê²€ì¦', stepIds: ['tool_data_validation', 'agent_validation_confirm'] },
    { id: 'ppt_setup', label: 'PPT ì„¤ì •', stepIds: ['tool_ppt_setup', 'agent_setup_confirm'] },
    { id: 'slide_generation', label: 'ìŠ¬ë¼ì´ë“œ ìƒì„±', stepIds: ['tool_web_search', 'tool_slide_planning', 'tool_slide_generation'] },
    { id: 'completion', label: 'ì™„ë£Œ', stepIds: ['tool_completion', 'agent_final'] },
  ];
  
  return taskGroups.map(group => {
    const allCompleted = group.stepIds.every(id => completedStepIds.includes(id));
    const anyRunning = group.stepIds.includes(currentStepId || '');
    
    return {
      id: group.id,
      label: group.label,
      status: allCompleted ? 'completed' : anyRunning ? 'running' : 'pending',
    };
  });
};
```

#### 5.3 Context ì—°ë™

```typescript
// PPT ì‹œë‚˜ë¦¬ì˜¤ì˜ ë°ì´í„° ì†ŒìŠ¤ ì„ íƒì— ë”°ë¥¸ Context ì—…ë°ì´íŠ¸
const handleDataSourceSelect = (selectedSources: string[]) => {
  const contextItems: ContextItem[] = selectedSources.map(source => ({
    id: `source-${source}`,
    type: 'connector' as const,
    name: source,
    status: 'connected',
  }));
  setContextItems(contextItems);
};
```

---

### Phase 6: ìŠ¤íƒ€ì¼ë§ ë° ì• ë‹ˆë©”ì´ì…˜

#### 6.1 TailwindCSS í´ë˜ìŠ¤ ì •ì˜

```css
/* ìš°ì¸¡ ì‚¬ì´ë“œë°” */
.right-sidebar {
  @apply w-80 h-full bg-gray-50 border-l border-gray-200 flex flex-col;
}

.right-sidebar-section {
  @apply border-b border-gray-200 last:border-b-0;
}

.right-sidebar-section-header {
  @apply px-4 py-3 flex items-center justify-between cursor-pointer hover:bg-gray-100;
}

.right-sidebar-section-content {
  @apply px-4 py-2;
}

/* Progress ì„¹ì…˜ */
.progress-task {
  @apply flex items-center gap-3 py-2;
}

.progress-task-status {
  @apply w-5 h-5 rounded-full flex items-center justify-center;
}

.progress-task-status--pending {
  @apply bg-gray-200;
}

.progress-task-status--running {
  @apply bg-blue-500 animate-pulse;
}

.progress-task-status--completed {
  @apply bg-green-500;
}

/* Artifact Preview Panel */
.artifact-preview-panel {
  @apply h-full bg-white border-l border-r border-gray-200;
}

/* ë ˆì´ì•„ì›ƒ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
.layout-panel {
  @apply transition-all duration-300 ease-in-out;
}
```

#### 6.2 ì• ë‹ˆë©”ì´ì…˜

```typescript
// íŒ¨ë„ ì—´ë¦¼/ë‹«í˜ ì• ë‹ˆë©”ì´ì…˜
const panelVariants = {
  open: { width: 'auto', opacity: 1 },
  closed: { width: 0, opacity: 0 },
};

// ì„¹ì…˜ ì ‘ê¸°/í¼ì¹˜ê¸° ì• ë‹ˆë©”ì´ì…˜
const sectionVariants = {
  expanded: { height: 'auto', opacity: 1 },
  collapsed: { height: 0, opacity: 0 },
};
```

---

## ğŸ”— ê¸°ì¡´ ë¡œì§ ì—°ê²° í¬ì¸íŠ¸

### PPTScenarioRenderer ì—°ê²°
- ë³€ê²½ ì—†ìŒ
- ì¢Œì¸¡ ëŒ€í™” íŒ¨ë„ì—ì„œ ê¸°ì¡´ëŒ€ë¡œ ë Œë”ë§

### PPTGenPanel ì—°ê²°
- ArtifactPreviewPanelì—ì„œ ë˜í•‘
- props ì „ë‹¬ êµ¬ì¡° ìœ ì§€

### usePPTScenario í›… ì—°ê²°
- Progress ìƒíƒœ ë™ê¸°í™” ì¶”ê°€
- `onStepStart`, `onStepComplete` ì½œë°± í™œìš©

### Artifact ê´€ë¦¬
- ê¸°ì¡´ artifacts ìƒíƒœ ìœ ì§€
- ArtifactsSectionì—ì„œ í‘œì‹œ
- í´ë¦­ ì‹œ ArtifactPreviewPanelë¡œ ì—°ê²°

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: íƒ€ì… ë° ìƒíƒœ
- [ ] types.tsì— ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€
- [ ] AgentChatViewì— ì‹ ê·œ ìƒíƒœ ì¶”ê°€
- [ ] ìƒíƒœ ì´ˆê¸°í™” ë¡œì§ ê²€ì¦

### Phase 2: ìš°ì¸¡ ì‚¬ì´ë“œë°”
- [ ] RightSidebar ì»¨í…Œì´ë„ˆ êµ¬í˜„
- [ ] ProgressSection êµ¬í˜„
- [ ] ArtifactsSection êµ¬í˜„
- [ ] ContextSection êµ¬í˜„
- [ ] ì„¹ì…˜ ì ‘ê¸°/í¼ì¹˜ê¸° ë™ì‘ í™•ì¸

### Phase 3: Artifact Preview
- [ ] ArtifactPreviewPanel êµ¬í˜„
- [ ] PPTGenPanel í†µí•©
- [ ] Dashboard í†µí•©
- [ ] ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤ êµ¬í˜„

### Phase 4: ë ˆì´ì•„ì›ƒ
- [ ] CoworkLayout êµ¬í˜„
- [ ] 2-Panel â†” 3-Panel ì „í™˜ ë¡œì§
- [ ] ë„ˆë¹„ ê³„ì‚° ë¡œì§ ê²€ì¦

### Phase 5: í†µí•©
- [ ] AgentChatView ë¦¬íŒ©í† ë§
- [ ] Progress ì—°ë™
- [ ] Context ì—°ë™
- [ ] ê¸°ì¡´ ì‹œë‚˜ë¦¬ì˜¤ ì •ìƒ ë™ì‘ í™•ì¸

### Phase 6: ìŠ¤íƒ€ì¼ë§
- [ ] TailwindCSS í´ë˜ìŠ¤ ì ìš©
- [ ] ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
- [ ] ë°˜ì‘í˜• ëŒ€ì‘

### í…ŒìŠ¤íŠ¸
- [ ] PPT ìƒì„± ì‹œë‚˜ë¦¬ì˜¤ ì „ì²´ íë¦„ í…ŒìŠ¤íŠ¸
- [ ] Artifact ì„ íƒ ë° ë¯¸ë¦¬ë³´ê¸° í…ŒìŠ¤íŠ¸
- [ ] íŒ¨ë„ ë¦¬ì‚¬ì´ì¦ˆ í…ŒìŠ¤íŠ¸
- [ ] ì„¹ì…˜ ì ‘ê¸°/í¼ì¹˜ê¸° í…ŒìŠ¤íŠ¸

---

## ğŸ“ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë„

```
AgentChatView
â”œâ”€â”€ CoworkLayout
â”‚   â”œâ”€â”€ LeftPanel (ChatPanel)
â”‚   â”‚   â”œâ”€â”€ ChatHistory
â”‚   â”‚   â”‚   â”œâ”€â”€ UserMessage
â”‚   â”‚   â”‚   â””â”€â”€ AgentMessage
â”‚   â”‚   â”‚       â””â”€â”€ PPTScenarioRenderer (ê¸°ì¡´ ìœ ì§€)
â”‚   â”‚   â”‚           â”œâ”€â”€ ToolCallWidget
â”‚   â”‚   â”‚           â””â”€â”€ AgentResponse
â”‚   â”‚   â””â”€â”€ InputArea
â”‚   â”‚
â”‚   â”œâ”€â”€ CenterPanel (ArtifactPreviewPanel) [ì¡°ê±´ë¶€]
â”‚   â”‚   â”œâ”€â”€ PPTGenPanel (type: ppt)
â”‚   â”‚   â”œâ”€â”€ DashboardPreview (type: chart)
â”‚   â”‚   â””â”€â”€ GenericPreview (ê¸°íƒ€)
â”‚   â”‚
â”‚   â””â”€â”€ RightPanel (RightSidebar)
â”‚       â”œâ”€â”€ ProgressSection
â”‚       â”‚   â””â”€â”€ ProgressTaskList
â”‚       â”œâ”€â”€ ArtifactsSection
â”‚       â”‚   â””â”€â”€ ArtifactList
â”‚       â””â”€â”€ ContextSection
â”‚           â””â”€â”€ ContextItemList
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ê¸°ì¡´ ë¡œì§ ë³´ì¡´**: PPT ì‹œë‚˜ë¦¬ì˜¤ì˜ ëª¨ë“  ë‹¨ê³„(ë„êµ¬ í˜¸ì¶œ, HITL, ìŠ¤íŠ¸ë¦¬ë° ë“±)ê°€ ì •ìƒ ë™ì‘í•´ì•¼ í•¨
2. **ìƒíƒœ ë™ê¸°í™”**: Progress ìƒíƒœëŠ” ì‹œë‚˜ë¦¬ì˜¤ ì§„í–‰ ìƒíƒœì™€ ì‹¤ì‹œê°„ ë™ê¸°í™” í•„ìš”
3. **ì„±ëŠ¥**: ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€ (React.memo, useMemo, useCallback í™œìš©)
4. **ì ‘ê·¼ì„±**: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜, ARIA ì†ì„± ì¶”ê°€
5. **ë°˜ì‘í˜•**: ëª¨ë°”ì¼ì—ì„œëŠ” ìš°ì¸¡ ì‚¬ì´ë“œë°” ì˜¤ë²„ë ˆì´ ëª¨ë“œë¡œ ì „í™˜ ê³ ë ¤

---

## ğŸš€ ì‹œì‘í•˜ê¸°

1. Phase 1ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰
2. ê° Phase ì™„ë£Œ ì‹œ ê¸°ì¡´ ì‹œë‚˜ë¦¬ì˜¤ ë™ì‘ í™•ì¸
3. ë¬¸ì œ ë°œìƒ ì‹œ í•´ë‹¹ Phase ë‚´ì—ì„œ í•´ê²° í›„ ë‹¤ìŒ ì§„í–‰